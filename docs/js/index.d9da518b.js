(function(e){function t(t){for(var r,i,o=t[0],c=t[1],u=t[2],p=0,h=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&h.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(h.length)h.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={index:0},s=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"04d4":function(e,t,a){"use strict";a("139f")},"139f":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("Panel",{attrs:{presets:e.presets},on:{setPresets:e.setPresets}}),a("Calendar",{attrs:{presets:e.presets}})],1)},s=[],i=(a("ac1f"),a("841c"),a("1276"),a("d3b7"),a("159b"),a("b64b"),a("a9e3"),a("caad"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"left"},[a("a-modal",{attrs:{title:"提示",visible:e.visible,"confirm-loading":e.confirmLoading},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("p",[e._v(e._s(e.ModalText))])]),a("h2",[e._v(e._s(e.presets.year)+"年日历在线定制打印A4")]),a("a-form",{attrs:{"label-col":{span:6},"wrapper-col":{span:18}},on:{submit:function(t){return t.preventDefault(),e.getPdf.apply(null,arguments)}}},[a("a-form-item",{attrs:{label:"阳历年份"}},[a("a-input-number",{attrs:{value:e.presets.year,min:1990,max:2050},on:{change:e.year}})],1),a("a-form-item",{attrs:{label:"阳历节日"}},[a("a-checkbox",{attrs:{checked:e.presets.addAnniversary},on:{change:e.addAnniversary}},[e._v("显示")])],1),a("a-form-item",{attrs:{label:"农历"}},[a("a-checkbox",{attrs:{checked:e.presets.addLunar},on:{change:e.addLunar}},[e._v("显示")])],1),a("a-form-item",{attrs:{label:"农历节日"}},[a("a-checkbox",{attrs:{checked:e.presets.addFestival},on:{change:e.addFestival}},[e._v("显示")])],1),a("a-form-item",{attrs:{label:"节气"}},[a("a-checkbox",{attrs:{checked:e.presets.addJieQi},on:{change:e.addJieQi}},[e._v("显示")])],1),a("a-form-item",{attrs:{label:"纸张规格"}},[a("a-radio-group",{attrs:{value:e.presets.paper},on:{change:e.paper}},[a("a-radio-button",{attrs:{value:"A4"}},[e._v("A4")])],1)],1),a("a-form-item",{attrs:{label:"纸张方向"}},[a("a-radio-group",{attrs:{value:e.presets.paperDirection},on:{change:e.paperDirection}},[a("a-radio-button",{attrs:{value:"horizontal"}},[e._v("横向")]),a("a-radio-button",{attrs:{value:"vertical"}},[e._v("纵向")])],1)],1),a("a-form-item",{attrs:{label:"每页月数"}},[a("a-radio-group",{attrs:{value:e.presets.monthsPerPage},on:{change:e.monthsPerPage}},[a("a-radio-button",{attrs:{value:12}},[e._v("12")]),a("a-radio-button",{attrs:{value:6}},[e._v("6")]),a("a-radio-button",{attrs:{value:2}},[e._v("2")]),a("a-radio-button",{attrs:{value:1}},[e._v("1")])],1)],1),a("a-form-item",{attrs:{"wrapper-col":{span:18,offset:6}}},[a("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v("定制完毕，立即打印")])],1)],1)],1)}),o=[],c={name:"Panel",props:["presets"],methods:{year:function(e){if(e>2050||e<1990)return this.$message.error("年份必须 在 1990 - 2050 之间");this.$emit("setPresets",{year:e})},addAnniversary:function(e){this.$emit("setPresets",{addAnniversary:e.target.checked})},addLunar:function(e){this.$emit("setPresets",{addLunar:e.target.checked})},addFestival:function(e){this.$emit("setPresets",{addFestival:e.target.checked})},addJieQi:function(e){this.$emit("setPresets",{addJieQi:e.target.checked})},monthsPerPage:function(e){this.$emit("setPresets",{monthsPerPage:e.target.value})},paper:function(e){this.$emit("setPresets",{paper:e.target.value})},paperDirection:function(e){this.$emit("setPresets",{paperDirection:e.target.value})},getPdf:function(){window.print()}}},u=c,l=a("2877"),p=Object(l["a"])(u,i,o,!1,null,"223c98a5",null),h=p.exports,d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"right",staticClass:"right"},e._l(e.calendars,(function(t,r){return a("div",{key:"page"+r,ref:"page",refInFor:!0,class:["page","page-"+e.presets.monthsPerPage]},[a("div",{staticClass:"number"},[e._v("第 "+e._s(r+1)+" 页，共 "+e._s(e.calendars.length)+" 页")]),a("div",{staticClass:"title"},[e._v(e._s(e.title))]),e._l(t,(function(t,r){return a("div",{key:"row"+r,staticClass:"canlendarRow"},e._l(t,(function(t){return a("Month",{key:"month"+t,class:[e.presets.paperDirection+e.presets.monthsPerPage,"row"+e.monthsEachRow],attrs:{presets:e.presets,month:t}})})),1)}))],2)})),0)},f=[],m=(a("99af"),a("b655")),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("table",{attrs:{border:"0",cellpadding:"0",cellspacing:"0"}},[a("tr",[a("td",{staticClass:"month",attrs:{colspan:"7"}},[e._v(e._s(e.month)+"月 "+e._s(e.engMonth))])]),a("tr",e._l(e.weeks,(function(t,r){return a("td",{key:"title"+r,staticClass:"week",class:"title"+r},[e._v(" "+e._s(t)+" ")])})),0),e._l(e.days,(function(t,r){return a("tr",{key:"week"+r},e._l(t,(function(t,r){return a("Day",{key:"day"+t,class:"day"+r,attrs:{day:t,month:e.month,presets:e.presets}})})),1)}))],2)])},g=[],b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.day>0?a("td",{class:e.dateKey},[a("div",[e._v(e._s(e.day))]),e.dateDetail[0]?a("div",[e._v(e._s(e.dateDetail[0][e.dateKey]))]):e._e()]):a("td")},y=[],_={name:"Day",props:["presets","month","day"],computed:{dateKey:function(){return this.dateDetail[0]?Object.keys(this.dateDetail[0])[0]:""},dateDetail:function(){var e=m["Solar"].fromYmd(this.presets.year,this.month,this.day),t=e.getLunar(),a=e.getFestivals(),r=t.getFestivals(),n=t.getJieQi(),s=t.getDayInChinese(),i=[];return r.length&&this.presets.addFestival&&i.push({lunarFestival:r[0]}),n&&this.presets.addJieQi&&i.push({jieQi:n}),a.length&&this.presets.addAnniversary&&i.push({solarFestival:"消费者权益日"===a[0]?"3•15":a[0]}),s&&this.presets.addLunar&&("初一"===s?i.push({lunarStart:t.getMonthInChinese()+"月"}):i.push({lunarDate:s})),i}}},P=_,k=Object(l["a"])(P,b,y,!1,null,null,null),w=k.exports,D={name:"Month",props:["presets","month"],components:{Day:w},data:function(){return{weeks:["日","一","二","三","四","五","六"],monthDays:[31,28,31,30,31,30,31,31,30,31,30,31],months:["January","February","March","April","May","June","July","August","September","October","November","December"]}},computed:{engMonth:function(){return this.months[this.month-1]},isLeapYear:function(){return this.presets.year%100!=0&&this.presets.year%4==0||this.presets.year%400==0},days:function(){for(var e=2===this.month&&this.isLeapYear?29:this.monthDays[this.month-1],t=7*Math.ceil((e+this.startWeek)/7),a=[],r=0;r<t;r++)r%7===0&&a.push([]),r>=this.startWeek&&r<e+this.startWeek?a[Math.floor(r/7)].push(r+1-this.startWeek):a[Math.floor(r/7)].push(-r);return a},startWeek:function(){var e=m["Solar"].fromYmd(this.presets.year,this.month,1);return e.getWeek()}}},O=D,x=Object(l["a"])(O,v,g,!1,null,null,null),M=x.exports,j={name:"Calendar",props:["presets"],components:{Month:M},computed:{title:function(){var e=this.presets.year,t=m["Lunar"].fromYmd(e,1,1),a=t.getYearInGanZhi(),r=t.getYearShengXiao();return"".concat(e,"年【").concat(a," ").concat(r,"年】")},calendars:function(){for(var e=[],t=0;t<12;t++){var a=Math.floor(t/this.presets.monthsPerPage),r=Math.floor((t-a*this.presets.monthsPerPage)/this.monthsEachRow);t%this.presets.monthsPerPage===0&&e.push([]),t%this.monthsEachRow===0&&e[a].push([]),e[a][r].push(t+1)}return e},monthsEachRow:function(){var e=this.presets.paperDirection+this.presets.monthsPerPage,t=1;switch(e){case"horizontal12":t=4;break;case"horizontal6":t=3;break;case"horizontal2":t=2;break;case"vertical12":t=3;break;case"vertical6":t=2;break}return t},fitRatio:function(){return"horizontal"===this.presets.paperDirection?1.46:1/1.45},paperDirection:function(){return"horizontal"===this.presets.paperDirection?"landspace":"portrait"}},methods:{fitPage:function(){var e=this,t=0;this.$refs.page.forEach((function(a){var r=a.offsetHeight*e.fitRatio;r>t&&(t=r)})),this.$refs.page.forEach((function(e){e.style.width=t+"px"}));var a="\n        @media print {\n          @page {size: A4 ".concat(this.paperDirection,"}\n          html,body,.container {\n            height: auto;\n          }\n          .left,.number {\n            display: none;\n          }\n          .right {\n            padding: 0;\n            overflow: visible;\n            background-color: #fff;\n          }\n          .page {\n            padding: 0;\n            margin: 0 auto;\n            box-shadow: none;\n            page-break-after: always;\n          }\n        }");document.getElementById("printRule").innerHTML=a}},updated:function(){this.fitPage()},mounted:function(){this.fitPage()}},$=j,A=(a("04d4"),Object(l["a"])($,d,f,!1,null,null,null)),C=A.exports,F={name:"App",components:{Panel:h,Calendar:C},data:function(){return{presets:{year:(new Date).getFullYear(),addAnniversary:!0,addLunar:!0,addFestival:!0,addJieQi:!0,monthsPerPage:12,paper:"A4",paperDirection:"horizontal"}}},methods:{setPresets:function(e){Object.assign(this.presets,e)},getQueryParams:function(){var e=window.location.search.substring(1);if(!e)return{};for(var t=e.split("&"),a={},r=0;r<t.length;r++){var n=t[r].split("=");n[1]&&(a[n[0]]=n[1])}return a}},created:function(){var e=this,t=this.getQueryParams();Object.keys(this.presets).forEach((function(a){switch(a){case"year":t[a]=Number(t[a]),t[a]>1990&&t[a]<2050&&(e.presets[a]=t[a]);break;case"monthsPerPage":t[a]=Number(t[a]),[1,2,6,12].includes(t[a])&&(e.presets[a]=t[a]);break;case"addAnniversary":case"addLunar":case"addFestival":case"addJieQi":e.presets[a]=!("false"===t[a]);break;case"paperDirection":e.presets[a]="vertical"===t[a]?"vertical":"horizontal";break}}))}},E=F,J=(a("034f"),Object(l["a"])(E,n,s,!1,null,null,null)),L=J.exports,Q=a("5efb"),S=a("09d9"),z=a("3af3"),R=a("59a5"),Y=a("bb76"),W=a("ed3b"),I=a("f64c"),T=(a("0c4c"),a("e10c"),a("8897"),a("f3d0"),a("5a55"),a("aa67"),a("800f"),a("2b35"),a("a479"),a("9c0e3")),K=a.n(T),N={tip:!1,cancelDuplicated:!0,getResData:function(e){return e},validateStatus:function(){return!0}},H={timeout:12e3},q=new K.a(N,H),B=q;r["a"].config.productionTip=!1,r["a"].use(Q["a"]),r["a"].use(S["a"]),r["a"].use(z["a"]),r["a"].use(R["a"]),r["a"].use(Y["a"]),r["a"].use(W["a"]),r["a"].use(I["a"]),r["a"].prototype.$message=I["a"],r["a"].prototype.$request=B,new r["a"]({el:"#app",render:function(e){return e(L)}})},"85ec":function(e,t,a){}});
//# sourceMappingURL=index.d9da518b.js.map